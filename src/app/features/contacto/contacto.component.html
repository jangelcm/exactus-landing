<main role="main">
  <article
    class="min-h-screen bg-gradient-to-br from-[rgb(var(--color-bg-dark))] via-[rgb(var(--color-bg-dark-secondary))] to-[rgb(var(--color-bg-dark))] text-[rgb(var(--color-text-on-dark))]">

    <!-- HERO + FORMULARIO -->
    <section class="max-w-7xl mx-auto px-4 lg:py-20 py-5" aria-labelledby="contacto-titulo">
      <div class="grid md:grid-cols-2 gap-12 items-start">

        <!-- Información de contacto -->
        <div>
          <h1 id="contacto-titulo" class="text-[rgb(var(--color-primary))] text-4xl md:text-5xl font-bold mb-6">
            Contáctenos
          </h1>
          <p class="text-[rgb(var(--color-text-on-dark-muted))] text-lg leading-relaxed mb-8">
            Estamos aquí para ayudarte con tus necesidades contables y fiscales.
            Completa el formulario y nos pondremos en contacto contigo a la brevedad.
          </p>

          <!-- Info Cards -->
          <div class="space-y-4 mb-8">
            <div
              class="bg-[rgb(var(--color-bg-dark-secondary))]/80 backdrop-blur border-[rgb(var(--color-primary-dark))] rounded-xl p-6 flex items-start gap-4">
              <!-- Icono reloj -->
              <svg class="w-7 h-7 text-[rgb(var(--color-primary))] flex-shrink-0 mt-1" fill="none" stroke="currentColor"
                stroke-width="2" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l4 2" />
              </svg>
              <div>
                <h2 class="text-xl font-semibold mb-2 text-[rgb(var(--color-primary))]">Horario de atención</h2>
                <p class="text-[rgb(var(--color-text-on-dark-muted))]">
                  Lunes a Viernes: 9:00 AM - 6:00 PM<br>
                  Sábados: 9:00 AM - 2:00 PM
                </p>
              </div>
            </div>

            <div
              class="bg-[rgb(var(--color-bg-dark-secondary))]/80 backdrop-blur border-[rgb(var(--color-primary-dark))] rounded-xl p-6 flex items-start gap-4">
              <!-- Icono contacto -->
              <svg class="w-7 h-7 text-[rgb(var(--color-primary))] flex-shrink-0" fill="none" stroke="currentColor"
                stroke-width="2" viewBox="0 0 24 24">
                <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2" fill="none" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 7l9 6 9-6" />
              </svg>
              <div>
                <h2 class="text-xl font-semibold mb-2 text-[rgb(var(--color-primary))]">Contacto directo</h2>
                <p class="text-[rgb(var(--color-text-on-dark-muted))]">
                  Email: admin&#64;exactus.pe<br>
                  Teléfono: +51 993 652 732
                </p>
              </div>
            </div>
            <div
              class="bg-[rgb(var(--color-bg-dark-secondary))]/80 backdrop-blur  border-b-3 border-[rgb(var(--color-primary-dark))] rounded-xl p-6 flex items-start gap-4">
              <!-- Icono ubicación -->
              <app-icon-location />
              <div>
                <h2 class="text-xl font-semibold mb-2 text-[rgb(var(--color-primary))]">Ubicación</h2>
                <p class="text-[rgb(var(--color-text-on-dark-muted))]">
                  Cal. 02 de Mayo Nro. 516 Int. 201 <br>
                  Lima - Lima - Miraflores
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Formulario -->
        <div class="relative">
          <div class="absolute inset-0 bg-[rgb(var(--color-accent))]/10 blur-3xl rounded-full" aria-hidden="true"></div>
          <div
            class="relative bg-[rgb(var(--color-bg-dark-secondary))]/80 border-l-2  backdrop-blur rounded-2xl p-8 shadow-xl border-[rgb(var(--color-primary-dark))]">

            <!-- Mensaje de éxito -->
            <div *ngIf="successMessage"
              class="mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-300" role="alert">
              <p class="font-semibold">¡Mensaje enviado exitosamente!</p>
              <p class="text-sm">Nos pondremos en contacto contigo pronto.</p>
            </div>

            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">

              <!-- Nombre y Apellido -->
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label for="nombre" class="block text-sm font-medium mb-2">
                    Nombre <span class="text-red-400">*</span>
                  </label>
                  <input type="text" id="nombre" formControlName="nombre"
                    class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition"
                    placeholder="Tu nombre" [class.border-red-500]="submitted && f['nombre'].errors" />
                  <p *ngIf="submitted && f['nombre'].errors" class="mt-1 text-sm text-red-400">
                    <span *ngIf="f['nombre'].errors['required']">El nombre es requerido</span>
                    <span *ngIf="f['nombre'].errors['minlength']">Debe tener al menos 2 caracteres</span>
                  </p>
                </div>

                <div>
                  <label for="apellido" class="block text-sm font-medium mb-2">
                    Apellido <span class="text-red-400">*</span>
                  </label>
                  <input type="text" id="apellido" formControlName="apellido"
                    class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition"
                    placeholder="Tu apellido" [class.border-red-500]="submitted && f['apellido'].errors" />
                  <p *ngIf="submitted && f['apellido'].errors" class="mt-1 text-sm text-red-400">
                    <span *ngIf="f['apellido'].errors['required']">El apellido es requerido</span>
                    <span *ngIf="f['apellido'].errors['minlength']">Debe tener al menos 2 caracteres</span>
                  </p>
                </div>
              </div>

              <!-- Email y Teléfono -->
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label for="email" class="block text-sm font-medium mb-2">
                    Correo electrónico <span class="text-red-400">*</span>
                  </label>
                  <input type="email" id="email" formControlName="email"
                    class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition"
                    placeholder="correo@ejemplo.com" [class.border-red-500]="submitted && f['email'].errors" />
                  <p *ngIf="submitted && f['email'].errors" class="mt-1 text-sm text-red-400">
                    <span *ngIf="f['email'].errors['required']">El correo es requerido</span>
                    <span *ngIf="f['email'].errors['email']">Ingresa un correo válido</span>
                  </p>
                </div>

                <div>
                  <label for="telefono" class="block text-sm font-medium mb-2">
                    Teléfono <span class="text-red-400">*</span>
                  </label>
                  <input type="tel" id="telefono" formControlName="telefono"
                    class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition"
                    placeholder="9999999999" [class.border-red-500]="submitted && f['telefono'].errors" />
                  <p *ngIf="submitted && f['telefono'].errors" class="mt-1 text-sm text-red-400">
                    <span *ngIf="f['telefono'].errors['required']">El teléfono es requerido</span>
                    <span *ngIf="f['telefono'].errors['pattern']">Debe contener al menos 9 dígitos</span>
                  </p>
                </div>
              </div>

              <!-- Empresa (opcional) -->
              <div>
                <label for="empresa" class="block text-sm font-medium mb-2">
                  Empresa/Cliente (opcional)
                </label>
                <input type="text" id="empresa" formControlName="empresa"
                  class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition"
                  placeholder="Nombre de tu empresa" />
              </div>

              <!-- Asunto -->
              <div>
                <label for="asunto" class="block text-sm font-medium mb-2">
                  Asunto <span class="text-red-400">*</span>
                </label>
                <select id="asunto" formControlName="asunto"
                  class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition"
                  [class.border-red-500]="submitted && f['asunto'].errors">
                  <option value="">Selecciona un asunto</option>
                  <option value="consulta-general">Consulta general</option>
                  <option value="servicios-contables">Servicios contables</option>
                  <option value="asesoria-fiscal">Asesoría fiscal</option>
                  <option value="auditoria">Auditoría</option>
                  <option value="constitucion-empresa">Constitución de empresa</option>
                  <option value="otro">Otro</option>
                </select>
                <p *ngIf="submitted && f['asunto'].errors" class="mt-1 text-sm text-red-400">
                  Por favor selecciona un asunto
                </p>
              </div>

              <!-- Mensaje -->
              <div>
                <label for="mensaje" class="block text-sm font-medium mb-2">
                  Mensaje <span class="text-red-400">*</span>
                </label>
                <textarea id="mensaje" formControlName="mensaje" rows="5"
                  class="w-full px-4 py-3 rounded-xl bg-[rgb(var(--color-bg-dark))] border border-[rgb(var(--color-border-dark))] focus:border-[rgb(var(--color-accent))] focus:outline-none focus:ring-2 focus:ring-[rgb(var(--color-accent))]/20 transition resize-none"
                  placeholder="Cuéntanos cómo podemos ayudarte..."
                  [class.border-red-500]="submitted && f['mensaje'].errors"></textarea>
                <p *ngIf="submitted && f['mensaje'].errors" class="mt-1 text-sm text-red-400">
                  <span *ngIf="f['mensaje'].errors['required']">El mensaje es requerido</span>
                  <span *ngIf="f['mensaje'].errors['minlength']">Debe tener al menos 10 caracteres</span>
                </p>
              </div>

              <!-- Botón de envío -->
              <button type="submit"
                class="w-full px-6 py-3 rounded-xl bg-[rgb(var(--color-primary))] hover:bg-[rgb(var(-hover))] transition font-semibold text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"
                [disabled]="submitted && contactForm.invalid">
                Enviar mensaje
              </button>

              <p class="text-sm text-center text-[rgb(var(--color-text-on-dark-muted))]">
                Los campos marcados con <span class="text-red-400">*</span> son obligatorios
              </p>
            </form>

          </div>
        </div>

      </div>
    </section>

  </article>
</main>