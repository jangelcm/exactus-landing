<div 
  class="relative w-full h-[420px] md:h-[550px] lg:h-[calc(60vh-120px)] mx-auto overflow-hidden bg-[rgb(var(--color-bg-primary))] select-none"
  (touchstart)="onTouchStart($event)" 
  (touchend)="onTouchEnd($event)">

  <ng-container *ngIf="slides.length">

    <!-- Media -->
    <div class="absolute inset-0">
      <ng-container *ngIf="slides[current].video; else imgTpl">
        <video class="w-full h-full object-cover" autoplay muted loop playsinline poster="{{slides[current].image}}">
          <source [src]="slides[current].video" type="video/mp4">
        </video>
      </ng-container>

      <ng-template #imgTpl>
        <img 
          [src]="slides[current].image" 
          class="w-full h-full object-cover" 
          alt="{{slides[current].title}}" />
      </ng-template>

      <!-- Overlay oscuro elegante -->
      <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"></div>
    </div>

    <!-- CONTENIDO HERO -->
    <div class="relative z-10 h-full flex items-center">
      <div class="max-w-7xl mx-auto px-6 w-full">
        <div class="max-w-2xl">

          <!-- Eyebrow -->
          <p class="text-[rgb(var(--color-primary-light))] uppercase tracking-widest text-sm font-bold mb-3">
            Estudio Legal & Tributario
          </p>

          <!-- Título principal -->
          <h1 class="text-white text-3xl md:text-5xl font-extrabold leading-tight mb-4 drop-shadow">
            {{ slides[current].title }}
          </h1>

          <!-- Descripción -->
          <p class="text-white/90 text-base md:text-lg mb-8 leading-relaxed">
            {{ slides[current].description }}
          </p>

          <!-- CTAs -->
          <div class="flex flex-col sm:flex-row gap-4">
            <button 
              class="bg-[rgb(var(--color-primary-light))] text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:bg-[rgb(var(--color-primary-hover))] transition">
              Agenda una consulta
            </button>

            <a 
              *ngIf="slides[current].link" 
              [href]="slides[current].link" 
              class="border border-white/70 text-white px-6 py-3 rounded-lg font-semibold hover:bg-white/10 transition">
              Conoce nuestros servicios
            </a>
          </div>

        </div>
      </div>
    </div>

    <!-- Flechas -->
    <button 
      *ngIf="showArrows" 
      (click)="prev()" 
      class="absolute left-4 top-1/10  sm:top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-[rgb(var(--color-primary-dark))] rounded-full p-3 shadow-xl z-20">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
      </svg>
    </button>

    <button 
      *ngIf="showArrows" 
      (click)="next()" 
      class="absolute right-4 top-1/10  sm:top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-[rgb(var(--color-primary-dark))] rounded-full p-3 shadow-xl z-20">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
      </svg>
    </button>

    <!-- Dots abajo (más elegante) -->
    <div 
      *ngIf="showDots" 
      class="absolute bottom-6 left-0 right-0 flex justify-center gap-3 z-20">

      <button 
        *ngFor="let s of slides; let i = index" 
        (click)="goTo(i)"
        class="w-3 h-3 rounded-full border border-white/70 transition"
        [class.bg-white]="i === current"
        [class.bg-white-40]="i !== current">
      </button>

    </div>

  </ng-container>
</div>
