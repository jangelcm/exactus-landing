<div class="relative w-full h-[400px] md:h-[500px] lg:h-[calc(100vh-100px)] mx-auto overflow-hidden shadow-lg bg-[rgb(var(--color-bg-primary))] select-none"
  (touchstart)="onTouchStart($event)" (touchend)="onTouchEnd($event)">
  <ng-container *ngIf="slides.length">
    <div class="w-full h-full flex items-center justify-center bg-gray-100">
      <ng-container *ngIf="slides[current].video; else imgTpl">
        <video class="w-full h-full object-cover" controls poster="{{slides[current].image}}">
          <source [src]="slides[current].video" type="video/mp4">
        </video>
      </ng-container>
      <ng-template #imgTpl>
        <img [src]="slides[current].image" class="w-full h-full object-cover" alt="{{slides[current].title}}" />
      </ng-template>
    </div>
    <div class="absolute inset-0 flex flex-col justify-end p-6 bg-gradient-to-t from-black/70 via-black/30 to-transparent">
      <h3 class="text-white text-2xl font-bold mb-2 drop-shadow">{{slides[current].title}}</h3>
      <p class="text-white text-base mb-4 drop-shadow">{{slides[current].description}}</p>
      <a *ngIf="slides[current].link" [href]="slides[current].link" target="_blank"
         class="inline-block bg-[rgb(var(--color-primary-dark))] text-white px-4 py-2 rounded-lg font-semibold shadow hover:bg-[rgb(var(--color-primary))] transition">Leer mÃ¡s</a>
    </div>
    <button *ngIf="showArrows" (click)="prev()" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-[rgb(var(--color-primary-dark))] rounded-full p-2 shadow-lg z-10">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg>
    </button>
    <button *ngIf="showArrows" (click)="next()" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-[rgb(var(--color-primary-dark))] rounded-full p-2 shadow-lg z-10">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>
    </button>
    <div *ngIf="showDots" class="absolute top-5 left-0 right-0 flex justify-center gap-2">
      <button *ngFor="let s of slides; let i = index" (click)="goTo(i)"
        class="w-3 h-3 rounded-full border-2 border-white bg-white/60 hover:bg-[rgb(var(--color-primary-light))] transition"
        [class.bg-[rgb(var(--color-primary-dark))])]="i === current"></button>
    </div>
  </ng-container>
</div>
